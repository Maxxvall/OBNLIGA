# audit/code-audit-cup-playoff-bracket

**–î–∞—Ç–∞:** 2025-11-28  
**–ó–∞–¥–∞—á–∞:** –£–ª—É—á—à–µ–Ω–∏–µ —Å–∏—Å—Ç–µ–º—ã –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏–∏ —Å–µ–∑–æ–Ω–∞ –∏ –ª–æ–≥–∏–∫–∏ –∫—É–±–∫–∞ —Å –≥—Ä—É–ø–ø–∞–º–∏ + –ø–ª–µ–π-–æ—Ñ—Ñ  
**–ò—Å–ø–æ–ª–Ω–∏—Ç–µ–ª—å:** VSCode Agent v1.1

## 1. –ü–æ–∏—Å–∫–æ–≤—ã–µ –∑–∞–ø—Ä–æ—Å—ã
- "seasonAutomation playoff bracket group stage"
- "GROUP_SINGLE_ROUND_PLAYOFF seriesFormat"
- "createGroupStageSchedule qualifyCount"
- "maybeCreateNextPlayoffStage bracket"
- "determineMatchWinnerClubId penalty shootout"

## 2. –ü—Ä–æ—Å–∫–∞–Ω–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –ø—É—Ç–∏
- `backend/src/services/seasonAutomation.ts`
- `backend/src/services/matchAggregation.ts`
- `backend/src/routes/adminRoutes.ts`
- `backend/src/routes/bracketRoutes.ts`
- `admin/src/components/tabs/MatchesTab.tsx`
- `prisma/schema.prisma`

## 3. –ù–∞–π–¥–µ–Ω–Ω—ã–µ –∞—Ä—Ç–µ—Ñ–∞–∫—Ç—ã
- `seasonAutomation.ts` ‚Äî –æ—Å–Ω–æ–≤–Ω–∞—è –ª–æ–≥–∏–∫–∞ –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏–∏ —Å–µ–∑–æ–Ω–∞, —Å–æ–∑–¥–∞–Ω–∏–µ –≥—Ä—É–ø–ø, –ø–ª–µ–π-–æ—Ñ—Ñ
- `matchAggregation.ts` ‚Äî –ª–æ–≥–∏–∫–∞ –ø—Ä–æ–≥—Ä–µ—Å—Å–∏–∏ —Å—Ç–∞–¥–∏–π –ø–ª–µ–π-–æ—Ñ—Ñ, –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –ø–æ–±–µ–¥–∏—Ç–µ–ª—è —Å —É—á–µ—Ç–æ–º –ø–µ–Ω–∞–ª—å—Ç–∏
- `adminRoutes.ts` ‚Äî API —ç–Ω–¥–ø–æ–∏–Ω—Ç—ã –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è —Å–µ–∑–æ–Ω–æ–≤
- `MatchesTab.tsx` ‚Äî UI –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏–∏ —Å–µ–∑–æ–Ω–∞ –≤ –∞–¥–º–∏–Ω–∫–µ

## 4. –†–µ—à–µ–Ω–∏–µ
–ê–¥–∞–ø—Ç–∞—Ü–∏—è —Å—É—â–µ—Å—Ç–≤—É—é—â–µ–π –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã —Å –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ–º –Ω–æ–≤–æ–π —ç—Ç–∞–ª–æ–Ω–Ω–æ–π —Å–∏—Å—Ç–µ–º—ã –∫—É–±–∫–∞:

### –ß—Ç–æ –±—ã–ª–æ (—Å—Ç–∞—Ä–∞—è –ª–æ–≥–∏–∫–∞):
- `qualifyCount` ‚Äî –ø—Ä–æ—Ö–æ–¥—è—Ç –¥–∞–ª—å—à–µ N –ª—É—á—à–∏—Ö –∏–∑ –∫–∞–∂–¥–æ–π –≥—Ä—É–ø–ø—ã
- –ü–ª–µ–π-–æ—Ñ—Ñ —Ñ–æ—Ä–º–∏—Ä—É–µ—Ç—Å—è –∫–∞–∫ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–π bracket –±–µ–∑ —É—á–µ—Ç–∞ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã
- –ù–µ—Ç —Ä–∞–∑–¥–µ–ª–µ–Ω–∏—è –Ω–∞ –ó–æ–ª–æ—Ç–æ–π/–°–µ—Ä–µ–±—Ä—è–Ω—ã–π –∫—É–±–æ–∫

### –ß—Ç–æ —Å—Ç–∞–Ω–µ—Ç (–Ω–æ–≤–∞—è –ª–æ–≥–∏–∫–∞):
- –î–ª—è –∫—É–±–∫–∞ (—Ç–∏–ø `CUP` + —Ñ–æ—Ä–º–∞—Ç `GROUP_SINGLE_ROUND_PLAYOFF`):
  - –í—Å–µ 1-–µ –º–µ—Å—Ç–∞ –≥—Ä—É–ø–ø —Å—Ä–∞–∑—É –≤ 1/4 —Ñ–∏–Ω–∞–ª–∞
  - –í—Å–µ 2-–µ –∏ 3-–µ –º–µ—Å—Ç–∞ –ø—Ä–æ—Ö–æ–¥—è—Ç –∫–≤–∞–ª–∏—Ñ–∏–∫–∞—Ü–∏—é
  - –ü–æ–±–µ–¥–∏—Ç–µ–ª–∏ –∫–≤–∞–ª–∏—Ñ–∏–∫–∞—Ü–∏–∏ –∏–¥—É—Ç –≤ 1/4 —Ñ–∏–Ω–∞–ª–∞
  - –ü—Ä–æ–∏–≥—Ä–∞–≤—à–∏–µ 1/4 —Ñ–∏–Ω–∞–ª–∞ —Ñ–æ—Ä–º–∏—Ä—É—é—Ç –°–µ—Ä–µ–±—Ä—è–Ω—ã–π –∫—É–±–æ–∫
  - –ü–æ–±–µ–¥–∏—Ç–µ–ª–∏ 1/4 —Ñ–∏–Ω–∞–ª–∞ —Ñ–æ—Ä–º–∏—Ä—É—é—Ç –ó–æ–ª–æ—Ç–æ–π –∫—É–±–æ–∫
- –í –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏–∏ —Å–µ–∑–æ–Ω–∞ –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞—é—Ç—Å—è:
  - –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –∫—Ä—É–≥–æ–≤ –≤ –≥—Ä—É–ø–ø–µ
  - –î–æ —Å–∫–æ–ª—å–∫–∏—Ö –ø–æ–±–µ–¥ –∏–≥—Ä–∞–µ—Ç—Å—è –ø–ª–µ–π-–æ—Ñ—Ñ

## 5. –≠—Ç–∞–ª–æ–Ω–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ –¥–ª—è 12 –∫–æ–º–∞–Ω–¥ (4 –≥—Ä—É–ø–ø—ã –ø–æ 3)

### –ì—Ä—É–ø–ø–æ–≤–æ–π —ç—Ç–∞–ø
```
–ì—Ä—É–ø–ø–∞ A: A1, A2, A3 (–∫—Ä—É–≥–æ–≤–∞—è —Å–∏—Å—Ç–µ–º–∞)
–ì—Ä—É–ø–ø–∞ B: B1, B2, B3
–ì—Ä—É–ø–ø–∞ C: C1, C2, C3
–ì—Ä—É–ø–ø–∞ D: D1, D2, D3
```

### –ö–≤–∞–ª–∏—Ñ–∏–∫–∞—Ü–∏—è (8 –∫–æ–º–∞–Ω–¥ ‚Äî –≤—Å–µ 2-–µ –∏ 3-–µ –º–µ—Å—Ç–∞)
```
H: C2 vs B3
I: B2 vs C3
G: D2 vs A3
F: A2 vs D3
```

### 1/4 —Ñ–∏–Ω–∞–ª–∞ (8 –∫–æ–º–∞–Ω–¥: 4 –ø–æ–±–µ–¥–∏—Ç–µ–ª—è –≥—Ä—É–ø–ø + 4 –ø–æ–±–µ–¥–∏—Ç–µ–ª—è –∫–≤–∞–ª–∏—Ñ–∏–∫–∞—Ü–∏–∏)
```
QF1: A1 vs H (–ø–æ–±–µ–¥–∏—Ç–µ–ª—å)
QF2: D1 vs I (–ø–æ–±–µ–¥–∏—Ç–µ–ª—å)
QF3: B1 vs F (–ø–æ–±–µ–¥–∏—Ç–µ–ª—å)
QF4: C1 vs G (–ø–æ–±–µ–¥–∏—Ç–µ–ª—å)
```

### –°–µ—Ä–µ–±—Ä—è–Ω—ã–π –∫—É–±–æ–∫ (–ø—Ä–æ–∏–≥—Ä–∞–≤—à–∏–µ 1/4)
```
–ü–æ–ª—É—Ñ–∏–Ω–∞–ª 1: Loser(QF1) vs Loser(QF2)
–ü–æ–ª—É—Ñ–∏–Ω–∞–ª 2: Loser(QF3) vs Loser(QF4)
–§–∏–Ω–∞–ª –°–µ—Ä–µ–±—Ä—è–Ω–æ–≥–æ: Winner(SF_s1) vs Winner(SF_s2)
3 –º–µ—Å—Ç–æ –°–µ—Ä–µ–±—Ä—è–Ω–æ–≥–æ: Loser(SF_s1) vs Loser(SF_s2)
```

### –ó–æ–ª–æ—Ç–æ–π –∫—É–±–æ–∫ (–ø–æ–±–µ–¥–∏—Ç–µ–ª–∏ 1/4)
```
–ü–æ–ª—É—Ñ–∏–Ω–∞–ª 1: Winner(QF1) vs Winner(QF2)
–ü–æ–ª—É—Ñ–∏–Ω–∞–ª 2: Winner(QF3) vs Winner(QF4)
–§–∏–Ω–∞–ª –ó–æ–ª–æ—Ç–æ–≥–æ: Winner(SF_g1) vs Winner(SF_g2)
3 –º–µ—Å—Ç–æ –ó–æ–ª–æ—Ç–æ–≥–æ: Loser(SF_g1) vs Loser(SF_g2)
```

## 6. –î–æ–ø—É—Å—Ç–∏–º—ã–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ –≥—Ä—É–ø–ø

| –ì—Ä—É–ø–ø | –ö–æ–º–∞–Ω–¥ –≤ –≥—Ä—É–ø–ø–µ | –í—Å–µ–≥–æ –∫–æ–º–∞–Ω–¥ | –ü—Ä–æ—Ö–æ–¥ –≤ –ø–ª–µ–π-–æ—Ñ—Ñ |
|-------|-----------------|--------------|-------------------|
| 2     | 4               | 8            | –≤—Å–µ 8 –∫–æ–º–∞–Ω–¥ (–ø–æ 4 –∏–∑ –≥—Ä—É–ø–ø—ã) |
| 2     | 5               | 10           | 8 –∫–æ–º–∞–Ω–¥ (–ø–æ 4 –∏–∑ –≥—Ä—É–ø–ø—ã, 5-–µ –º–µ—Å—Ç–∞ –≤—ã–±—ã–≤–∞—é—Ç) |
| 3     | 3               | 9            | 6 –∫–æ–º–∞–Ω–¥ (–ø–æ 2 –∏–∑ –≥—Ä—É–ø–ø—ã) |
| 3     | 4               | 12           | 8 –∫–æ–º–∞–Ω–¥ (–ø–æ 2-3 –∏–∑ –≥—Ä—É–ø–ø—ã) |
| 4     | 3               | 12           | 12 –∫–æ–º–∞–Ω–¥ (–≤—Å–µ –≤ –∫–≤–∞–ª–∏—Ñ–∏–∫–∞—Ü–∏—é/1/4) |

## 7. –ü–ª–∞–Ω —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏

### –≠—Ç–∞–ø 1: –ë–µ–∫–µ–Ω–¥ ‚Äî –°—Ö–µ–º–∞ –∏ —Ç–∏–ø—ã
- [x] –î–æ–±–∞–≤–∏—Ç—å –≤ `Season` –ø–æ–ª—è `groupRounds` –∏ `playoffBestOf` ‚úÖ
- [x] –°–æ–∑–¥–∞—Ç—å —Ç–∏–ø `CupBracketConfig` –¥–ª—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ —Ç—É—Ä–Ω–∏—Ä–∞ ‚úÖ
- [x] –î–æ–±–∞–≤–∏—Ç—å –≤ `MatchSeries` –ø–æ–ª–µ `bracketType` ('GOLD' | 'SILVER' | 'QUALIFICATION') ‚úÖ

### –≠—Ç–∞–ø 2: –ë–µ–∫–µ–Ω–¥ ‚Äî –õ–æ–≥–∏–∫–∞ —ç—Ç–∞–ª–æ–Ω–Ω–æ–π —Å–µ—Ç–∫–∏
- [x] –°–æ–∑–¥–∞—Ç—å `cupBracketLogic.ts` —Å —Ñ—É–Ω–∫—Ü–∏—è–º–∏: ‚úÖ
  - `generateQualificationPairs()` ‚Äî —Ñ–æ—Ä–º–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–∞—Ä –∫–≤–∞–ª–∏—Ñ–∏–∫–∞—Ü–∏–∏ ‚úÖ
  - `generateQuarterFinalPairs()` ‚Äî —Ñ–æ—Ä–º–∏—Ä–æ–≤–∞–Ω–∏–µ 1/4 —Ñ–∏–Ω–∞–ª–∞ (–≤—Å–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏) ‚úÖ
  - `progressGoldBracket()` ‚Äî –ø—Ä–æ–≥—Ä–µ—Å—Å–∏—è –∑–æ–ª–æ—Ç–æ–≥–æ –∫—É–±–∫–∞ ‚úÖ
  - `progressSilverBracket()` ‚Äî –ø—Ä–æ–≥—Ä–µ—Å—Å–∏—è —Å–µ—Ä–µ–±—Ä—è–Ω–æ–≥–æ –∫—É–±–∫–∞ ‚úÖ
  - `validateCupConfiguration()` ‚Äî –≤–∞–ª–∏–¥–∞—Ü–∏—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ –≥—Ä—É–ø–ø ‚úÖ
  - `selectBest8From3x3()` ‚Äî –≤—ã–±–æ—Ä 8 –∫–æ–º–∞–Ω–¥ –∏–∑ 3 –≥—Ä—É–ø–ø –ø–æ 3 ‚úÖ
  - `selectBest8From3x4()` ‚Äî –≤—ã–±–æ—Ä 8 –∫–æ–º–∞–Ω–¥ –∏–∑ 3 –≥—Ä—É–ø–ø –ø–æ 4 ‚úÖ
  - `needsQualification()` ‚Äî –ø—Ä–æ–≤–µ—Ä–∫–∞ –Ω—É–∂–Ω–∞ –ª–∏ –∫–≤–∞–ª–∏—Ñ–∏–∫–∞—Ü–∏—è ‚úÖ

### –≠—Ç–∞–ø 3: –ë–µ–∫–µ–Ω–¥ ‚Äî –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å–µ—Ä–≤–∏—Å–æ–≤
- [x] –û–±–Ω–æ–≤–∏—Ç—å `seasonAutomation.ts`: ‚úÖ
  - –î–æ–±–∞–≤–∏—Ç—å –ø–∞—Ä–∞–º–µ—Ç—Ä—ã `groupRounds`, `playoffBestOf` –≤ input ‚úÖ
  - –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –Ω–æ–≤—É—é –ª–æ–≥–∏–∫—É –¥–ª—è —Ç–∏–ø–∞ CUP ‚úÖ
- [ ] –û–±–Ω–æ–≤–∏—Ç—å `matchAggregation.ts`:
  - –û–ø—Ä–µ–¥–µ–ª—è—Ç—å —Ç–∏–ø —Ç—É—Ä–Ω–∏—Ä–∞ –∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â—É—é –ø—Ä–æ–≥—Ä–µ—Å—Å–∏—é
  - –î–æ–±–∞–≤–∏—Ç—å —Å–æ–∑–¥–∞–Ω–∏–µ –°–µ—Ä–µ–±—Ä—è–Ω–æ–≥–æ –∫—É–±–∫–∞

### –≠—Ç–∞–ø 4: –ë–µ–∫–µ–Ω–¥ ‚Äî API
- [x] –û–±–Ω–æ–≤–∏—Ç—å `adminRoutes.ts`: ‚úÖ
  - –î–æ–±–∞–≤–∏—Ç—å `groupRounds`, `playoffBestOf` –≤ payload –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏–∏ ‚úÖ
- [ ] –û–±–Ω–æ–≤–∏—Ç—å `bracketRoutes.ts`:
  - –†–∞–∑–¥–µ–ª–∏—Ç—å –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ Gold/Silver bracket

### –≠—Ç–∞–ø 5: –§—Ä–æ–Ω—Ç–µ–Ω–¥ ‚Äî –ê–¥–º–∏–Ω–∫–∞
- [x] –û–±–Ω–æ–≤–∏—Ç—å `MatchesTab.tsx`: ‚úÖ
  - –î–æ–±–∞–≤–∏—Ç—å –ø–æ–ª—è –¥–ª—è `groupRounds` –∏ `playoffBestOf` ‚úÖ
  - –î–æ–±–∞–≤–∏—Ç—å –≤–∏–∑—É–∞–ª—å–Ω—É—é –ø–æ–¥—Å–∫–∞–∑–∫—É –ø–æ —Å—Ç—Ä—É–∫—Ç—É—Ä–µ ‚úÖ
- [ ] –£–±—Ä–∞—Ç—å `qualifyCount` –¥–ª—è –∫—É–±–∫–∞ (–≤ –ø—Ä–æ—Ü–µ—Å—Å–µ)
- [x] –û–±–Ω–æ–≤–∏—Ç—å `adminClient.ts` ‚Äî –¥–æ–±–∞–≤–∏—Ç—å `groupRounds`, `playoffBestOf` –≤ SeasonAutomationPayload ‚úÖ

### –≠—Ç–∞–ø 6: –§—Ä–æ–Ω—Ç–µ–Ω–¥ ‚Äî –ü—É–±–ª–∏—á–Ω–∞—è —á–∞—Å—Ç—å
- [x] –û–±–Ω–æ–≤–∏—Ç—å `PlayoffBracket.tsx`: ‚úÖ
  - –†–∞–∑–¥–µ–ª–∏—Ç—å –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ Gold/Silver brackets ‚úÖ
  - –î–æ–±–∞–≤–∏—Ç—å –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—é –∫–≤–∞–ª–∏—Ñ–∏–∫–∞—Ü–∏–∏ ‚úÖ
  - –î–æ–±–∞–≤–∏—Ç—å –∑–∞–≥–æ–ª–æ–≤–∫–∏ —Å —ç–º–æ–¥–∑–∏ (ü•á Gold, ü•à Silver) ‚úÖ

### –≠—Ç–∞–ø 7: –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è TypeScript/ESLint
- [x] –ò—Å–ø—Ä–∞–≤–∏—Ç—å –æ—à–∏–±–∫–∏ –≤ `achievementsApi.ts` ‚Äî type narrowing –¥–ª—è union types ‚úÖ
- [x] –ò—Å–ø—Ä–∞–≤–∏—Ç—å –æ—à–∏–±–∫–∏ –≤ `RatingsPage.tsx` ‚Äî undefined handling ‚úÖ  
- [x] –ò—Å–ø—Ä–∞–≤–∏—Ç—å –æ—à–∏–±–∫–∏ –≤ `appStore.ts` ‚Äî type narrowing ‚úÖ
- [x] –ò—Å–ø—Ä–∞–≤–∏—Ç—å ESLint prefer-template –≤ `subscriptionRoutes.ts` ‚úÖ
- [x] –ò—Å–ø—Ä–∞–≤–∏—Ç—å unused variable –≤ `notificationService.ts` ‚úÖ
- [x] –ò—Å–ø—Ä–∞–≤–∏—Ç—å ESLint warning –≤ `bot.ts` ‚úÖ

## 8. –¢–µ–∫—É—â–∏–µ –ø—Ä–æ–±–ª–µ–º—ã (–ò–°–ü–†–ê–í–õ–ï–ù–û ‚úÖ)

### –ü—Ä–æ–±–ª–µ–º–∞ 1: UI –¥–ª—è –∫—Ä—É–≥–æ–≤ –∏ –ø–ª–µ–π-–æ—Ñ—Ñ –Ω–µ –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è
- [x] –î–æ–±–∞–≤–∏—Ç—å UI –¥–ª—è –≤—ã–±–æ—Ä–∞ –∫—Ä—É–≥–æ–≤ –≤ –≥—Ä—É–ø–ø–µ ‚úÖ
- [x] –î–æ–±–∞–≤–∏—Ç—å UI –¥–ª—è –≤—ã–±–æ—Ä–∞ —Ñ–æ—Ä–º–∞—Ç–∞ –ø–ª–µ–π-–æ—Ñ—Ñ (–¥–æ —Å–∫–æ–ª—å–∫–∏ –ø–æ–±–µ–¥) ‚úÖ
- [x] –°–∫—Ä—ã—Ç—å `qualifyCount` –¥–ª—è —Ç–∏–ø–∞ CUP ‚úÖ
- [x] –î–æ–±–∞–≤–∏—Ç—å –ø–æ–¥—Å–∫–∞–∑–∫—É –æ —Å—Ç—Ä—É–∫—Ç—É—Ä–µ –∫—É–±–∫–∞ ‚úÖ

### –ü—Ä–æ–±–ª–µ–º–∞ 2: –°–º–µ—â–µ–Ω–∏–µ –≤—Ä–µ–º–µ–Ω–∏ +3 —á–∞—Å–∞ –ø—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ –º–∞—Ç—á–µ–π  
- [x] –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–æ ‚Äî –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ UTC –º–µ—Ç–æ–¥–æ–≤ –≤ seasonAutomation.ts ‚úÖ
  - `applyTimeToDate()` ‚Üí `setUTCHours()`
  - `alignDateToWeekday()` ‚Üí `getUTCDay()`, `setUTCDate()`
  - `addDays()` ‚Üí `setUTCDate()`
  - `addMinutes()` ‚Üí `setUTCMinutes()`

### –ü—Ä–æ–±–ª–µ–º–∞ 3: –û—à–∏–±–∫–∞ match_update_failed –≤ –ø–∞–Ω–µ–ª–∏ –ø–æ–º–æ—â–Ω–∏–∫–∞
- [x] –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–æ ‚Äî —Ä–∞–∑–¥–µ–ª–µ–Ω–∏–µ try-catch –¥–ª—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –º–∞—Ç—á–∞ –∏ post-processing ‚úÖ
  - `assistantRoutes.ts`: handleMatchFinalization –æ–±—ë—Ä–Ω—É—Ç –≤ –æ—Ç–¥–µ–ª—å–Ω—ã–π try-catch
  - `judgeRoutes.ts`: –∞–Ω–∞–ª–æ–≥–∏—á–Ω–æ–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ
  - –¢–µ–ø–µ—Ä—å –æ—à–∏–±–∫–∏ –≤ handleMatchFinalization –Ω–µ –±–ª–æ–∫–∏—Ä—É—é—Ç —É—Å–ø–µ—à–Ω—ã–π –æ—Ç–≤–µ—Ç

### –ü—Ä–æ–±–ª–µ–º–∞ 4: –°—Ç–∞—Ä—ã–µ –≥—Ä—É–ø–ø—ã –Ω–∞ —Ñ—Ä–æ–Ω—Ç–µ –≤–º–µ—Å—Ç–æ –Ω–æ–≤—ã—Ö
- [x] –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–æ ‚Äî –æ—á–∏—Å—Ç–∫–∞ orphaned –¥–∞–Ω–Ω—ã—Ö –≤ localStorage ‚úÖ
  - –î–æ–±–∞–≤–ª–µ–Ω–∞ —Ñ—É–Ω–∫—Ü–∏—è `cleanupOrphanedSeasonData()` –≤ appStore
  - –ü—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ —Å–ø–∏—Å–∫–∞ —Å–µ–∑–æ–Ω–æ–≤ —É–¥–∞–ª—è—é—Ç—Å—è –¥–∞–Ω–Ω—ã–µ –Ω–µ—Å—É—â–µ—Å—Ç–≤—É—é—â–∏—Ö —Å–µ–∑–æ–Ω–æ–≤
  - –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è localStorage —Å –∞–∫—Ç—É–∞–ª—å–Ω—ã–º —Å–æ—Å—Ç–æ—è–Ω–∏–µ–º

## 9. –ú–µ—Ç—Ä–∏—á–µ—Å–∫–æ–µ –≤–ª–∏—è–Ω–∏–µ
üîµ ‚Äî –£–ª—É—á—à–µ–Ω–∏–µ –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∏ –±–µ–∑ –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏—Ö –∏–∑–º–µ–Ω–µ–Ω–∏–π
- –°–æ—Ö—Ä–∞–Ω–µ–Ω–∞ –æ–±—Ä–∞—Ç–Ω–∞—è —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å —Å —Ç–∏–ø–æ–º LEAGUE
- –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –∑–∞–ø—Ä–æ—Å–æ–≤ –∫ –ë–î –ø—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ —Å—Ç–∞–¥–∏–π
- –ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ –≤ Redis
