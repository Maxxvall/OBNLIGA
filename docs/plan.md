
# –ü–ª–∞–Ω —Ä–∞–∑–≤—ë—Ä—Ç—ã–≤–∞–Ω–∏—è –ø—Ä–æ–≥–Ω–æ–∑–æ–≤ –∏ —Ä–µ–π—Ç–∏–Ω–≥–∞

## –¶–µ–ª–∏
- –í–Ω–µ–¥—Ä–∏—Ç—å –ª–∏–≥–æ–≤—ã–π –∏–≥—Ä–æ–≤–æ–π —Ä–µ–∂–∏–º –ø—Ä–æ–≥–Ω–æ–∑–æ–≤ —Å –∑–∞–∫—Ä—ã—Ç–æ–π –ª–æ–≥–∏–∫–æ–π –Ω–∞—á–∏—Å–ª–µ–Ω–∏—è –æ—á–∫–æ–≤ –∏ –≤–∏–¥–∏–º—ã–º–∏ –ø—Ä–æ—Å—Ç—ã–º–∏ –≤–∞—Ä–∏–∞–Ω—Ç–∞–º–∏ –≤—ã–±–æ—Ä–∞ (1, X, 2 –∏ —Ç–æ—Ç–∞–ª—ã –±–æ–ª—å—à–µ/–º–µ–Ω—å—à–µ)
- –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –º–Ω–æ–≥–æ—É—Ä–æ–≤–Ω–µ–≤—É—é —Å–∏—Å—Ç–µ–º—É –¥–æ—Å—Ç–∏–∂–µ–Ω–∏–π —Å –ª–æ–≥–∏–∫–æ–π –Ω–∞ –æ—Å–Ω–æ–≤–µ —Å–µ—Ä–∏–π (streaks) –∏ –∏–∫–æ–Ω–∫–∞–º–∏, —É–ø—Ä–∞–≤–ª—è–µ–º—ã–º–∏ —á–µ—Ä–µ–∑ –∞–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å
- –û–±–µ—Å–ø–µ—á–∏—Ç—å —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ–µ –ø–æ—Ç—Ä–µ–±–ª–µ–Ω–∏–µ —Ä–µ—Å—É—Ä—Å–æ–≤ –º–µ–∂–¥—É PostgreSQL, Prisma ORM, Redis-–∫—ç—à–µ–º –∏ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–º–∏ WS/HTTP-—Å–ª–æ—è–º–∏ –ø—Ä–∏ –≥–∞—Ä–∞–Ω—Ç–∏–∏ –∞–∫—Ç—É–∞–ª—å–Ω–æ—Å—Ç–∏ –¥–∞–Ω–Ω—ã—Ö
- –ò–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞—Ç—å –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏—è —Ä–µ–π—Ç–∏–Ω–≥–æ–≤ (—Ç–µ–∫—É—â–∏–π –∏ –≥–æ–¥–æ–≤–æ–π) –≤ –ø—É–±–ª–∏—á–Ω—ã–π —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥ –±–µ–∑ —Ç–µ—Ä–º–∏–Ω–æ–ª–æ–≥–∏–∏ –∫–æ—ç—Ñ—Ñ–∏—Ü–∏–µ–Ω—Ç–æ–≤ –∏ —Å UX, —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏–º —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è–º —Ä–æ—Å—Å–∏–π—Å–∫–æ–≥–æ —Ä—ã–Ω–∫–∞
- –ü—Ä–µ–¥–æ—Å—Ç–∞–≤–∏—Ç—å –æ–ø–µ—Ä–∞—Ç–æ—Ä–∞–º –∞–¥–º–∏–Ω-–∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã –¥–ª—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ —Ç–æ—Ç–∞–ª–æ–≤, –¥–æ—Å—Ç–∏–∂–µ–Ω–∏–π, –∞–≤–∞—Ä–∏–π–Ω—ã—Ö –æ–≤–µ—Ä—Ä–∞–π–¥–æ–≤ –∏ –∞—É–¥–∏—Ç–∞ —á–µ—Ä–µ–∑ —Å—É—â–µ—Å—Ç–≤—É—é—â—É—é WS-–∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä—É

## –ù–∞–±–ª—é–¥–µ–Ω–∏—è –ø–æ —Ç–µ–∫—É—â–µ–π —Å–∏—Å—Ç–µ–º–µ
- –ê–¥–º–∏–Ω-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç Zustand-store —Å –ø–æ–¥—Å–∫–∞–∑–∫–∞–º–∏ TTL –¥–ª—è fetch (`admin/src/store/adminStore.ts`) –∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è —á–µ—Ä–µ–∑ WS-—Ç–æ–ø–∏–∫–∏ –¥–ª—è –Ω–æ–≤–æ—Å—Ç–µ–π; –º–∞—Å—Å–∏–≤—ã –ø—Ä–æ–≥–Ω–æ–∑–æ–≤ –∏ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏–π —É–∂–µ —Å—É—â–µ—Å—Ç–≤—É—é—Ç, –Ω–æ –Ω–µ –ø–æ–ª–Ω–æ—Å—Ç—å—é –∑–∞–ø–æ–ª–Ω–µ–Ω—ã
- –§—Ä–æ–Ω—Ç–µ–Ω–¥-–∞–ø–ø —ç–∫—Å–ø–æ–Ω–∏—Ä—É–µ—Ç –≤–∫–ª–∞–¥–∫–∏ (Profile, LineupPortal) —Å API-–∫–ª–∏–µ–Ω—Ç–∞–º–∏ –ø–æ–¥ `frontend/src/api`; –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–µ –≤–∫–ª–∞–¥–∫–∏ –ø–æ–ª–∞–≥–∞—é—Ç—Å—è –Ω–∞ REST-–∑–∞–ø—Ä–æ—Å—ã ‚Äî –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ –¥–æ–±–∞–≤–∏—Ç—å –ø–æ–¥–¥–µ—Ä–∂–∫—É ETag/If-None-Match –¥–ª—è –∫–∞–∂–¥–æ–≥–æ —ç–Ω–¥–ø–æ–π–Ω—Ç–∞
- –ë—ç–∫–µ–Ω–¥ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç —Ä–æ—É—Ç—ã –≤ —Å—Ç–∏–ª–µ Fastify –ø–æ–¥ `backend/src/routes`; —É—Ç–∏–ª–∏—Ç—ã –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏—è (`backend/src/cache`) —É–∂–µ –∏–Ω–∫–∞–ø—Å—É–ª–∏—Ä—É—é—Ç Redis –∏ –º–Ω–æ–≥–æ—É—Ä–æ–≤–Ω–µ–≤—ã–µ —à–∞–±–ª–æ–Ω—ã –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏—è; —Å—Ö–µ–º–∞ Prisma –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –≤ `prisma/schema.prisma`
- –û–±—â–∏–µ —Ç–∏–ø—ã (`shared/types.ts`) —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä—É—é—Ç DTO –º–µ–∂–¥—É —Å–µ—Ä–≤–∏—Å–∞–º–∏

## –î–æ–±–∞–≤–ª–µ–Ω–∏—è –≤ –º–æ–¥–µ–ª—å –¥–∞–Ω–Ω—ã—Ö
- –†–∞—Å—à–∏—Ä–∏—Ç—å `prisma/schema.prisma` —Å–ª–µ–¥—É—é—â–∏–º–∏ –º–æ–¥–µ–ª—è–º–∏:
  - `PredictionTemplate` ‚Äî –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è —Ä—ã–Ω–∫–∞ –¥–ª—è –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ –º–∞—Ç—á–∞ (1X2, —Ç–æ—Ç–∞–ª—ã). –ü–æ–ª—è: `id`, `matchId`, `marketType`, `options`, `basePoints`, `difficultyMultiplier`, `isManual`, `createdBy`, –≤—Ä–µ–º–µ–Ω–Ω—ã–µ –º–µ—Ç–∫–∏
  - `PredictionEntry` ‚Äî –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–µ –æ—Ç–ø—Ä–∞–≤–∫–∏ –ø—Ä–æ–≥–Ω–æ–∑–æ–≤. –ü–æ–ª—è: `id`, `userId`, `templateId`, `selection`, `submittedAt`, `scoreAwarded`, `status`, `resolvedAt`
  - `PredictionStreak` ‚Äî –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ —Å–µ—Ä–∏–π. –ü–æ–ª—è: `userId`, `currentStreak`, `maxStreak`, `lastPredictionAt`, `lastResolvedAt`
  - `AchievementType` ‚Äî –æ–±–æ–≥–∞—â—ë–Ω–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–µ–π –æ–± —É—Ä–æ–≤–Ω—è—Ö. –ù–æ–≤–∞—è —Ç–∞–±–ª–∏—Ü–∞ `AchievementLevel`: `id`, `achievementId`, `level`, `threshold`, `icon`, `title`, `description`
  - `UserAchievementProgress`: `id`, `userId`, `achievementId`, `currentLevel`, `progressCount`, `lastUnlockedAt`
  - `UserRating`: `userId`, `totalPoints`, `seasonalPoints`, `yearlyPoints`, `mythicRank`, `lastRecalculatedAt`
  - `RatingSnapshot`: `id`, `userId`, `scope` (`current`, `yearly`), `rank`, `points`, `capturedAt` ‚Äî –¥–ª—è –∞—É–¥–∏—Ç–∞ –∏ –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏—è
  - –ú–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ –¥–ª—è –∞—É–¥–∏—Ç–∞: `AdminPointAdjustment` (`id`, `adminId`, `userId`, `delta`, `reason`, `scope`, –≤—Ä–µ–º–µ–Ω–Ω—ã–µ –º–µ—Ç–∫–∏), `AdminActionLog` –¥–ª—è —Ñ–∏–∫—Å–∞—Ü–∏–∏ —Ä—É—á–Ω—ã—Ö –æ–ø–µ—Ä–∞—Ü–∏–π –∏ –æ–±–µ—Å–ø–µ—á–µ–Ω–∏—è –æ—Ç–∫–∞—Ç–∞ –≤ —Ç–µ—á–µ–Ω–∏–µ 72 —á–∞—Å–æ–≤
- –î–æ–±–∞–≤–∏—Ç—å —Å–æ—Å—Ç–∞–≤–Ω—ã–µ –∏–Ω–¥–µ–∫—Å—ã: `PredictionEntry(userId, templateId)`, `PredictionEntry(templateId, status)`, `PredictionStreak(userId)`, `UserRating(totalPoints DESC)`, `RatingSnapshot(scope, capturedAt)`

## –ü–ª–∞–Ω —Ä–∞–±–æ—Ç –Ω–∞ –±—ç–∫–µ–Ω–¥–µ
- –§–∞–∑–∞ 0: –°—Ö–µ–º–∞ –∏ –º–∏–≥—Ä–∞—Ü–∏–∏
  - –î–æ–±–∞–≤–∏—Ç—å –º–æ–¥–µ–ª–∏ –≤ Prisma, –≤—ã–ø–æ–ª–Ω–∏—Ç—å –ø–æ—ç—Ç–∞–ø–Ω—ã–µ –º–∏–≥—Ä–∞—Ü–∏–∏, –∑–∞—Å–µ—è—Ç—å –¥–µ—Ñ–æ–ª—Ç–Ω—ã–µ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏—è –∏ —Å–∫—Ä—ã—Ç—ã–µ –∫–æ—ç—Ñ—Ñ–∏—Ü–∏–µ–Ω—Ç—ã –¥–ª—è –Ω–∞—á–∏—Å–ª–µ–Ω–∏—è –æ—á–∫–æ–≤ ‚úÖ 2025-11-03
  - –û–±–Ω–æ–≤–∏—Ç—å –æ–±—â–∏–µ —Ç–∏–ø—ã –Ω–æ–≤—ã–º–∏ DTO –∏ –ø–µ—Ä–µ—á–∏—Å–ª–µ–Ω–∏—è–º–∏ (enums) ‚úÖ 2025-11-03
- –§–∞–∑–∞ 1: –ü—Ä–∏—ë–º –ø—Ä–æ–≥–Ω–æ–∑–æ–≤
  - –°–µ—Ä–≤–∏—Å `predictionService` –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è —à–∞–±–ª–æ–Ω–æ–≤ –Ω–∞ –º–∞—Ç—á –Ω–∞ –æ—Å–Ω–æ–≤–µ –∫–æ–Ω–≤–µ–π–µ—Ä–∞ –¥–∞–Ω–Ω—ã—Ö; –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å –ø–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫–æ–º –º–∞—Ç—á–µ–π –¥–ª—è –≤—ã—á–∏—Å–ª–µ–Ω–∏—è —Ç–æ—Ç–∞–ª–æ–≤ ‚Äî ‚úÖ 2025-11-03 (–∞–≤—Ç–æ–≥–µ–Ω–µ—Ä–∞—Ü–∏—è `predictionTemplateService` –ø—Ä–∏ –∑–∞–ø—Ä–æ—Å–∞—Ö)
  - –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–π –∫–∞–ª—å–∫—É–ª—è—Ç–æ—Ä —Ç–æ—Ç–∞–ª–æ–≤ (—Å—á–∏—Ç—ã–≤–∞—è –ø–æ—Å–ª–µ–¥–Ω–∏–µ 5 –º–∞—Ç—á–µ–π; –∑–∞–ø–∞—Å–Ω–æ–π –≤–∞—Ä–∏–∞–Ω—Ç 2.5) –≤ `backend/src/services/predictionTotalsService.ts` ‚Äî ‚úÖ 2025-11-03
  - –û—Ç–∫—Ä—ã—Ç—å –∞–¥–º–∏–Ω-—Ä–æ—É—Ç –¥–ª—è –æ–≤–µ—Ä—Ä–∞–π–¥–∞ —Ç–æ—Ç–∞–ª–æ–≤ (`PATCH /admin/matches/:id/prediction-template`) ‚Äî ‚úÖ 2025-11-03
- –§–∞–∑–∞ 2: –î–≤–∏–∂–æ–∫ –Ω–∞—á–∏—Å–ª–µ–Ω–∏—è –æ—á–∫–æ–≤
  - ‚úÖ –†–∞—Å—á—ë—Ç –æ—á–∫–æ–≤ –∏ —Å—Ç–∞—Ç—É—Å–æ–≤ –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è –ø—Ä–∏ —Ñ–∏–Ω–∞–ª–∏–∑–∞—Ü–∏–∏ –º–∞—Ç—á–∞ —á–µ—Ä–µ–∑ `settlePredictionEntries`; –ø–æ–¥–¥–µ—Ä–∂–∞–Ω—ã —Ä—ã–Ω–∫–∏ –∏—Å—Ö–æ–¥–∞, —Ç–æ—Ç–∞–ª–æ–≤ –∏ –∫–∞—Å—Ç–æ–º–Ω—ã—Ö —Å–æ–±—ã—Ç–∏–π —Å –º—É–ª—å—Ç–∏–ø–ª–∏–∫–∞—Ç–æ—Ä–∞–º–∏ —Å–ª–æ–∂–Ω–æ—Å—Ç–∏
  - ‚úÖ –ü–æ—Å–ª–µ —Ä–∞—Å—á—ë—Ç–∞ –æ–±–Ω–æ–≤–ª—è—é—Ç—Å—è `PredictionEntry`, streak, –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è —Ç–æ—á–µ—á–Ω—ã–π –ø–µ—Ä–µ—Å—á—ë—Ç `UserRating` –∏ –∏–Ω–≤–∞–ª–∏–¥–∞—Ü–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏—Ö/–ø—É–±–ª–∏—á–Ω—ã—Ö –∫—ç—à–µ–π —Ä–µ–π—Ç–∏–Ω–≥–∞
  - ‚úÖ –ü–æ—Å–ª–µ —Ä–∞—Å—á—ë—Ç–∞ –æ—á–∏—â–∞–µ—Ç—Å—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–π –∫–µ—à `/api/predictions/my`, –ø–æ—ç—Ç–æ–º—É —Å—Ç–∞—Ç—É—Å ¬´–æ–∂–∏–¥–∞–µ—Ç¬ª —Å–Ω–∏–º–∞–µ—Ç—Å—è —Å—Ä–∞–∑—É –ø–æ—Å–ª–µ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è –∏—Å—Ö–æ–¥–∞
  - –ü–ª–∞–Ω: –≤—ã–Ω–µ—Å—Ç–∏ —Ä–∞—Å—á—ë—Ç –≤ —Ñ–æ–Ω–æ–≤–æ–≥–æ –≤–æ—Ä–∫–µ—Ä–∞, –µ—Å–ª–∏ –ø–æ—Ç—Ä–µ–±—É–µ—Ç—Å—è —Ä–∞–∑–≥—Ä—É–∑–∫–∞ –æ–Ω–ª–∞–π–Ω–æ–≤–æ–≥–æ –ø—É—Ç–∏
- –§–∞–∑–∞ 3: –ê–≥—Ä–µ–≥–∞—Ü–∏—è —Ä–µ–π—Ç–∏–Ω–≥–∞
  - ‚úÖ –∑–∞–¥–∞—á–∞ –≤ –æ—á–µ—Ä–µ–¥–∏ –∫–∞–∂–¥—ã–µ 6 —á–∞—Å–æ–≤ –¥–ª—è —Ä–µ–∫–∞–ª—å–∫—É–ª—è—Ü–∏–∏ —Ä–∞–Ω–≥–æ–≤ –∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è `RatingSnapshot`; –ø—Ä–∏–º–µ–Ω—è—Ç—å —Å–±—Ä–æ—Å –≥–æ–¥–æ–≤—ã—Ö –æ—á–∫–æ–≤ 1 –º–∞—è –∏ –∫–≤–∞—Ä—Ç–∞–ª—å–Ω—ã–π —Å–±—Ä–æ—Å –¥–ª—è —Ç–µ–∫—É—â–µ–≥–æ scope
  - ‚úÖ –ü—Ä–µ–¥–æ—Å—Ç–∞–≤–∏—Ç—å API-—ç–Ω–¥–ø–æ–π–Ω—Ç—ã –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è —Ç–∞–±–ª–∏—Ü –ª–∏–¥–µ—Ä–æ–≤ —Å –ø–∞–≥–∏–Ω–∞—Ü–∏–µ–π –∏ –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π ETag
  - ‚úÖ –ê–∫—Ç–∏–≤–Ω—ã–µ —Å–µ–∑–æ–Ω—ã —Ä–µ–π—Ç–∏–Ω–≥–∞ –æ–ø—Ä–µ–¥–µ–ª—è—é—Ç –≥—Ä–∞–Ω–∏—Ü—ã –æ–∫–æ–Ω (`startsAt`), –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ (`–ü–∞—Ä–∞–º–µ—Ç—Ä—ã —Ä–∞—Å—á—ë—Ç–∞`) —Å–ª—É–∂–∞—Ç –±—ç–∫–∞–ø–æ–º –∏ —à–∞–±–ª–æ–Ω–æ–º –¥–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏
- –§–∞–∑–∞ 4: –ê–¥–º–∏–Ω-–∫–æ–Ω—Ç—Ä–æ–ª—å–Ω—ã–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
  - –†–∞—Å—à–∏—Ä–∏—Ç—å –∞–¥–º–∏–Ω-—Ä–æ—É—Ç—ã –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –¥–æ—Å—Ç–∏–∂–µ–Ω–∏—è–º–∏; –∑–∞—â–∏—Ç–∏—Ç—å —Ä–æ–ª—è–º–∏ (role-based guards), –∫–æ—Ç–æ—Ä—ã–µ —É–∂–µ –ø—Ä–∏—Å—É—Ç—Å—Ç–≤—É—é—Ç ‚úÖ 2025-11-03
- –§–∞–∑–∞ 5: –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥–∞
  - –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–µ API-—ç–Ω–¥–ø–æ–π–Ω—Ç—ã –¥–ª—è –ø–µ—Ä–µ—á–∏—Å–ª–µ–Ω–∏—è –∞–∫—Ç–∏–≤–Ω—ã—Ö —à–∞–±–ª–æ–Ω–æ–≤ –ø—Ä–æ–≥–Ω–æ–∑–æ–≤, –æ—Ç–ø—Ä–∞–≤–∫–∏ –≤—ã–±–æ—Ä–æ–≤, –ø–æ–ª—É—á–µ–Ω–∏—è –∏—Å—Ç–æ—Ä–∏–∏, –¥–æ—Å—Ç–∏–∂–µ–Ω–∏–π (–¥–æ—Å—Ç–∏–∂–µ–Ω–∏—è –±—É–¥—É—Ç –æ—Ç–æ–±—Ä–∞–∂–∞—Ç—å—Å—è –Ω–∞ –≤–∫–ª–∞–¥–∫–µ –ø—Ä–æ—Ñ–∏–ª—å) –∏ —Ä–µ–π—Ç–∏–Ω–≥–∞ ‚úÖ 2025-11-03
  - –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å HTTP-–∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º `Last-Modified` –∏ `ETag` –ø–ª—é—Å Redis TTL-–∫—ç—à–∏ –¥–ª—è –ø—É–±–ª–∏—á–Ω—ã—Ö read-—ç–Ω–¥–ø–æ–π–Ω—Ç–æ–≤ (–Ω–∞–ø—Ä–∏–º–µ—Ä, TTL 60s –¥–ª—è —Ç–∞–±–ª–∏—Ü—ã –ª–∏–¥–µ—Ä–æ–≤, 60s –¥–ª—è —Å–ø–∏—Å–∫–æ–≤ –ø—Ä–æ–≥–Ω–æ–∑–æ–≤). –í—Å–µ–≥–¥–∞ —Å–±—Ä–∞—Å—ã–≤–∞—Ç—å –∫—ç—à–∏ –ø—Ä–∏ —Ä–µ–ª–µ–≤–∞–Ω—Ç–Ω—ã—Ö –∑–∞–ø–∏—Å—è—Ö

## –†–µ–∞–ª–∏–∑–∞—Ü–∏—è –≤ –∞–¥–º–∏–Ω-–ø–∞–Ω–µ–ª–∏
- –í–∫–ª–∞–¥–∫–∏
  - –†–∞–∑–¥–µ–ª–∏—Ç—å —Å—É—â–µ—Å—Ç–≤—É—é—â—É—é –≤–∫–ª–∞–¥–∫—É Users & Activity –Ω–∞ –≤—ã–¥–µ–ª–µ–Ω–Ω—ã–µ –≤–∫–ª–∞–¥–∫–∏: `Predictions`, `Achievements`, `Emergency`
  - –í–∫–ª–∞–¥–∫–∞ `Predictions` –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –ø—Ä–µ–¥—Å—Ç–æ—è—â–∏–µ –º–∞—Ç—á–∏ —Å –≤—ã—á–∏—Å–ª–µ–Ω–Ω—ã–º–∏ —Ç–æ—Ç–∞–ª–∞–º–∏; –∫–æ–Ω—Ç—Ä–æ–ª—ã –¥–ª—è –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏—è –º–µ–∂–¥—É –∞–≤—Ç–æ/—Ä—É—á–Ω—ã–º–∏ —Ç–æ—Ç–∞–ª–∞–º–∏ –∏ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –º—É–ª—å—Ç–∏–ø–ª–∏–∫–∞—Ç–æ—Ä–æ–≤ —Å–ª–æ–∂–Ω–æ—Å—Ç–∏ ‚Äî ‚úÖ —Å–æ–±—Ä–∞–Ω —ç–∫—Ä–∞–Ω, –¥–æ–±–∞–≤–ª–µ–Ω—ã —Å–µ–∑–æ–Ω–Ω—ã–π —Ñ–∏–ª—å—Ç—Ä, —Ñ–æ—Ä–º—ã —Ä—É—á–Ω–æ–≥–æ —Ä–µ–∂–∏–º–∞ –∏ –±—ã—Å—Ç—Ä—ã–π –≤–æ–∑–≤—Ä–∞—Ç –∫ –∞–≤—Ç–æ–º–∞—Ç–∏–∫–µ
    - ‚úÖ –ú–∞—Ç—á–∏ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω—ã –±–ª–∏–∂–∞–π—à–∏–º–∏ 6 –¥–Ω—è–º–∏, –Ω–∞–∑–≤–∞–Ω–∏—è –∫–ª—É–±–æ–≤ –æ—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è –ø–æ–ª–Ω–æ—Å—Ç—å—é, –∫–∞–ª—å–∫—É–ª—è—Ç–æ—Ä –ø–æ–¥—Å–∫–∞–∑—ã–≤–∞–µ—Ç –∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω—ã–µ –ª–∏–Ω–∏–∏ (¬±1 –≥–æ–ª) –¥–ª—è —Ä—É—á–Ω–æ–π –Ω–∞—Å—Ç—Ä–æ–π–∫–∏
    - ‚úÖ –ë—ç–∫–µ–Ω–¥ –≥–æ—Ç–æ–≤: `GET /api/admin/predictions/matches` –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç —à–∞–±–ª–æ–Ω—ã –∏ –ø–æ–¥—Å–∫–∞–∑–∫–∏ —Ç–æ—Ç–∞–ª–æ–≤; –≤ Zustand –¥–æ–±–∞–≤–ª–µ–Ω—ã `fetchPredictionMatches`, `setPredictionTemplateAuto/Manual`
  - –í–∫–ª–∞–¥–∫–∞ `Achievements` –ø–æ–∑–≤–æ–ª—è–µ—Ç CRUD –¥–ª—è —Ç–∏–ø–æ–≤ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏–π, –ø–æ—Ä–æ–≥–æ–≤ —É—Ä–æ–≤–Ω–µ–π, –∑–∞–≥—Ä—É–∑–∫–∏ –∏–∫–æ–Ω–æ–∫ (–ø–æ–≤—Ç–æ—Ä–Ω–æ –∏—Å–ø–æ–ª—å–∑—É—è —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ upload-API) –∏ —Ä—É—á–Ω–æ–π –∫–æ—Ä—Ä–µ–∫—Ç–∏—Ä–æ–≤–∫–∏ –ø—Ä–æ–≥—Ä–µ—Å—Å–∞
  - –í–∫–ª–∞–¥–∫–∞ `Ratings` –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç —Ç–µ–∫—É—â–∏–µ –æ–∫–Ω–∞ —Ä–∞—Å—á—ë—Ç–∞, —Ñ–æ—Ä–º—É –∏–∑–º–µ–Ω–µ–Ω–∏—è –ø–µ—Ä–∏–æ–¥–æ–≤ –∏ –ø–∞–≥–∏–Ω–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –ª–∏–¥–µ—Ä–±–æ—Ä–¥. ‚úÖ –°–æ–±—Ä–∞–Ω–∞ –≤–∫–ª–∞–¥–∫–∞ —Å —Ñ–æ—Ä–º–æ–π —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –æ–∫–æ–Ω, —Ä—É—á–Ω—ã–º –ø–µ—Ä–µ—Å—á—ë—Ç–æ–º, –ø–µ—Ä–µ–∫–ª—é—á–∞—Ç–µ–ª—è–º–∏ `current/yearly`, –ø–∞–≥–∏–Ω–∞—Ü–∏–µ–π –∏ –ø—Ä–∏–≤—è–∑–∫–æ–π –∫ –¥–µ–π—Å—Ç–≤–∏—è–º `fetchRatingSettings`, `fetchRatingLeaderboard`, `setRatingScope`, `setRatingPagination`, `updateRatingSettings`, `recalculateRatings`.
  - –í–∫–ª–∞–¥–∫–∞ `Emergency` –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç —Ä–µ–≥—É–ª–∏—Ä–æ–≤–∞–Ω–∏–µ –æ—á–∫–æ–≤, —Å–±—Ä–æ—Å—ã —Å–µ—Ä–∏–π –∏ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏–µ –æ—Ç–∫–∞—Ç–æ–≤ (—Å —Ñ–∏–ª—å—Ç—Ä–∞–º–∏ –ø–æ –ª–æ–≥–∞–º). –û–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ –¥–∏–∞–ª–æ–≥–∏ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è –∏ –ø–æ–ª–µ "–ø—Ä–∏—á–∏–Ω–∞"
- –ü–æ—Ç–æ–∫ –¥–∞–Ω–Ω—ã—Ö
  - –ü–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –ø–∞—Ç—Ç–µ—Ä–Ω Zustand —Å TTL; –∑–∞–¥–∞—Ç—å `FETCH_TTL` –ø–æ –æ–±–ª–∞—Å—Ç–∏ (predictions 20s, ratingSettings 60s, ratingLeaderboard 30s, achievements 2m, emergency logs 15s). –û–±–Ω–æ–≤–ª—è—Ç—å –∫—ç—à–∏ –ø—Ä–∏ –ø–æ—Å—Ç—É–ø–ª–µ–Ω–∏–∏ WS-patch ‚Äî ‚úÖ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ –¥–ª—è –ø—Ä–µ–¥—Å—Ç–æ—è—â–∏—Ö –º–∞—Ç—á–µ–π –ø—Ä–æ–≥–Ω–æ–∑–æ–≤, —Ä–µ–π—Ç–∏–Ω–≥ –≤—Ä–µ–º–µ–Ω–Ω–æ –æ–±–Ω–æ–≤–ª—è–µ—Ç—Å—è —è–≤–Ω—ã–º refetch –ø–æ—Å–ª–µ –º—É—Ç–∞—Ü–∏–π
  - –ü–æ–¥–ø–∏—Å–∞—Ç—å—Å—è –Ω–∞ –Ω–æ–≤—ã–µ WS-—Ç–æ–ø–∏–∫–∏ `admin.predictions` –∏ `admin.achievements` –¥–ª—è –∏–Ω–∫—Ä–µ–º–µ–Ω—Ç–∞–ª—å–Ω—ã—Ö –æ–±–Ω–æ–≤–ª–µ–Ω–∏–π ‚Äî ‚úÖ –ø–æ–¥–ø–∏—Å–∫–∞ `admin.predictions` –¥–æ–±–∞–≤–ª–µ–Ω–∞, –æ—Å—Ç–∞—ë—Ç—Å—è `admin.achievements`
  - –û—Ç–æ–±—Ä–∞–∂–∞—Ç—å –∏—Å—Ç–æ—Ä–∏—é –∞—É–¥–∏—Ç–∞ –≤ —Ç–∞–±–ª–∏—Ü–∞—Ö (–∫–æ–ª–æ–Ω–∫–∏: user, action, delta, timestamp, admin)

## –§—Ä–æ–Ω—Ç–µ–Ω–¥ (–ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∞—è —á–∞—Å—Ç—å)
- –í–∫–ª–∞–¥–∫–∞ –ø—Ä–æ–≥–Ω–æ–∑–æ–≤
  - –†–æ—É—Ç `/predictions`, –ø–æ–ª—É—á–∞—é—â–∏–π —à–∞–±–ª–æ–Ω—ã —á–µ—Ä–µ–∑ `GET /predictions/active` —Å TTL-–∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ–º (Redis 15s). –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —É—Å–ª–æ–≤–Ω—ã–µ –∑–∞–ø—Ä–æ—Å—ã (ETag/If-None-Match); –≤ —Å–ª—É—á–∞–µ —Å–æ–≤–ø–∞–¥–µ–Ω–∏—è –≤–æ–∑–≤—Ä–∞—â–∞—Ç—å `304` –¥–ª—è –º–∏–Ω–∏–º–∏–∑–∞—Ü–∏–∏ —Ç—Ä–∞—Ñ–∏–∫–∞
  - ‚úÖ –û–±–Ω–æ–≤–ª—ë–Ω UI –≤–∫–ª–∞–¥–∫–∏: –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é –¥–æ—Å—Ç—É–ø–µ–Ω –∫–æ–º–ø–∞–∫—Ç–Ω—ã–π —Å–ø–∏—Å–æ–∫ —Ä—ã–Ω–∫–æ–≤ –±–µ–∑ –∫–æ—ç—Ñ—Ñ–∏—Ü–∏–µ–Ω—Ç–æ–≤, –¥–æ–±–∞–≤–ª–µ–Ω—ã —Å–ø–µ—Ü —Å–æ–±—ã—Ç–∏—è (–ø–µ–Ω–∞–ª—å—Ç–∏, –∫—Ä–∞—Å–Ω–∞—è) –∏ —Ä–∞–∑–º–µ—Ç–∫–∞ –ø–æ–¥ –æ—á–∫–∏/—Å–ª–æ–∂–Ω–æ—Å—Ç—å –ø—Ä–∏ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–∏ —Å—É—â–µ—Å—Ç–≤—É—é—â–µ–π –ª–æ–≥–∏–∫–∏ –æ—Ç–ø—Ä–∞–≤–∫–∏ `POST /predictions/:templateId/entry`
  - ‚úÖ –°—Ç–∏–ª–∏—Å—Ç–∏–∫–∞ –≤–∫–ª–∞–¥–∫–∏ –ø—Ä–∏–≤–µ–¥–µ–Ω–∞ –∫ –≤–∏–¥—É –≤–∫–ª–∞–¥–∫–∏ –õ–∏–≥–∏ (–µ–¥–∏–Ω—ã–π —Ö–µ–¥–µ—Ä, —Ç–∞–±—ã, –∞–∫—Ü–µ–Ω—Ç–Ω—ã–µ —Ü–≤–µ—Ç–∞)
  - –û—Ç–æ–±—Ä–∞–∂–∞—Ç—å –æ–∂–∏–¥–∞—é—â–∏–µ –∏ —Ä–∞–∑—Ä–µ—à—ë–Ω–Ω—ã–µ –ø—Ä–æ–≥–Ω–æ–∑—ã; –ø–æ–∫–∞–∑—ã–≤–∞—Ç—å –ø—Ä–æ–≥—Ä–µ—Å—Å —Å–µ—Ä–∏–∏ –∏ –ø–æ–¥—Å–∫–∞–∑–∫–∏ –ø–æ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏—è–º –±–µ–∑ —Ä–∞—Å–∫—Ä—ã—Ç–∏—è –º—É–ª—å—Ç–∏–ø–ª–∏–∫–∞—Ç–æ—Ä–æ–≤ –Ω–∞—á–∏—Å–ª–µ–Ω–∏—è
- –í–∫–ª–∞–¥–∫–∞ —Ä–µ–π—Ç–∏–Ω–≥–∞
  - –†–æ—É—Ç `/ratings` –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç —Ç–µ–∫—É—â—É—é –∏ –≥–æ–¥–æ–≤—É—é —Ç–∞–±–ª–∏—Ü—ã –ª–∏–¥–µ—Ä–æ–≤; –≤—ã–∑—ã–≤–∞—Ç—å `GET /ratings?scope=current|yearly`. –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞—Ç—å –±–µ—Å–∫–æ–Ω–µ—á–Ω—É—é –ø—Ä–æ–∫—Ä—É—Ç–∫—É –∏–ª–∏ –ø–∞–≥–∏–Ω–∞—Ü–∏—é. –ü–æ–∫–∞–∑—ã–≤–∞—Ç—å –±–µ–π–¥–∂–∏ —É—Ä–æ–≤–Ω—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –Ω–∞ –æ—Å–Ω–æ–≤–∞–Ω–∏–∏ –ø–æ—Ä–æ–≥–æ–≤
  - ‚úÖ –û–±–Ω–æ–≤–ª—ë–Ω —Ö–µ–¥–µ—Ä –∏ –ø–µ—Ä–µ–∫–ª—é—á–∞—Ç–µ–ª–∏ –≤–∫–ª–∞–¥–∫–∏ —Ä–µ–π—Ç–∏–Ω–≥–∞ –ø–æ–¥ –ª–∏–≥–æ–≤—ã–π —Å—Ç–∏–ª—å; –∞–∫—Ç—É–∞–ª–∏–∑–∞—Ü–∏—è –∑–∞–ø—É—Å–∫–∞–µ—Ç –∏–Ω–≤–∞–ª–∏–¥–∞—Ü–∏—é –∫—ç—à–µ–π –ø–æ—Å–ª–µ –ø–µ—Ä–µ—Ä–∞—Å—á—ë—Ç–∞ –æ—á–∫–æ–≤
  - ‚úÖ –¢–∞–±–ª–∏—Ü–∞ –ª–∏–¥–µ—Ä–æ–≤ –ø–µ—Ä–µ–≤–µ–¥–µ–Ω–∞ –≤ —Ç–∞–±–ª–∏—á–Ω—ã–π –º–∞–∫–µ—Ç: boundaries –æ–∫–æ–Ω –±–µ—Ä—É—Ç—Å—è –∏–∑ –∞–∫—Ç–∏–≤–Ω—ã—Ö —Å–µ–∑–æ–Ω–æ–≤, –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ –≤—ã–±—Ä–∞–Ω–Ω—ã–π –¥–∏–∞–ø–∞–∑–æ–Ω –æ—á–∫–æ–≤ –±–µ–∑ –¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏—è
  - –ò–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞—Ç—å —Å–≤–æ–¥–∫—É —Ä–µ–π—Ç–∏–Ω–≥–∞ –≤ —Ö–µ–¥–µ—Ä –ø—Ä–æ—Ñ–∏–ª—è (–æ–±–æ–¥ –≤–æ–∫—Ä—É–≥ –∞–≤–∞—Ç–∞—Ä–∞ —á–µ—Ä–µ–∑ CSS) –∏—Å–ø–æ–ª—å–∑—É—è –¥–∞–Ω–Ω—ã–µ –∏–∑ `GET /users/me/rating`
- –ú–æ–¥—É–ª—å –¥–æ—Å—Ç–∏–∂–µ–Ω–∏–π
  - –†–∞–∑–¥–µ–ª –ø—Ä–æ—Ñ–∏–ª—è, –ø–æ–∫–∞–∑—ã–≤–∞—é—â–∏–π —Ä–∞–∑–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ —É—Ä–æ–≤–Ω–∏; –¥–∞–Ω–Ω—ã–µ –∏–∑ `GET /users/me/achievements`. –ö—ç—à–∏—Ä–æ–≤–∞—Ç—å —Å TTL 60s, –Ω–æ –≤—Å–µ–≥–¥–∞ –æ–±—Ö–æ–¥–∏—Ç—å –∫—ç—à –ø–æ—Å–ª–µ –º—É—Ç–∞—Ü–∏–π —á–µ—Ä–µ–∑ `Cache-Control: no-cache` –≤ –æ—Ç–≤–µ—Ç–∞—Ö –Ω–∞ –º—É—Ç–∞—Ü–∏–∏
- ‚úÖ –ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ –Ω–∞ –∫–ª–∏–µ–Ω—Ç–µ (2025-11-05)
  - ‚úÖ –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–∞ —Å–∏—Å—Ç–µ–º–∞ SWR (Stale-While-Revalidate) –¥–ª—è –º–≥–Ω–æ–≤–µ–Ω–Ω–æ–π –∑–∞–≥—Ä—É–∑–∫–∏ —Å —Ñ–æ–Ω–æ–≤—ã–º –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ–º
  - ‚úÖ –î–≤—É—Ö—É—Ä–æ–≤–Ω–µ–≤—ã–µ TTL: `expiresAt` (—Å–≤–µ–∂–∏–µ –¥–∞–Ω–Ω—ã–µ) –∏ `staleUntil` (—É—Å—Ç–∞—Ä–µ–≤—à–∏–µ, –Ω–æ –ø–æ–∫–∞–∑—ã–≤–∞–µ–º—ã–µ)
  - ‚úÖ –û–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç—Å—è `304 Not Modified` —Å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–º –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ–º TTL –ª–æ–∫–∞–ª—å–Ω–æ–≥–æ –∫—ç—à–∞
  - ‚úÖ –ê–¥–∞–ø—Ç–∏–≤–Ω—ã–π polling –¥–ª—è —Ä–µ–π—Ç–∏–Ω–≥–æ–≤: –∞–∫—Ç–∏–≤–Ω–∞—è –≤–∫–ª–∞–¥–∫–∞ 60—Å, –Ω–µ–∞–∫—Ç–∏–≤–Ω–∞—è 5–º, —Ñ–æ–Ω 10–º
  - ‚úÖ –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ —Ä–∞–∑–º–µ—Ä–∞ localStorage: –º–∞–∫—Å 50 –∑–∞–ø–∏—Å–µ–π –¥–ª—è –ø—Ä–æ–≥–Ω–æ–∑–æ–≤, 10 –¥–ª—è —Ä–µ–π—Ç–∏–Ω–≥–æ–≤ —Å LRU –æ—á–∏—Å—Ç–∫–æ–π
  - ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –∏–Ω–≤–∞–ª–∏–¥–∞—Ü–∏—è –ø–æ—Å–ª–µ –º—É—Ç–∞—Ü–∏–π (submitPrediction —Å–±—Ä–∞—Å—ã–≤–∞–µ—Ç –∫—ç—à –∞–∫—Ç–∏–≤–Ω—ã—Ö –ø—Ä–æ–≥–Ω–æ–∑–æ–≤)
  - ‚úÖ Circuit Breaker –≤—Å—Ç—Ä–æ–µ–Ω –≤ SWR: –ø—Ä–∏ –æ—à–∏–±–∫–∞—Ö –ø–æ–∫–∞–∑—ã–≤–∞—é—Ç—Å—è –∫—ç—à–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ
  - ‚úÖ –û–±–Ω–æ–≤–ª–µ–Ω—ã TTL –ø–æ–¥ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è Render.com Free: –ø—Ä–æ–≥–Ω–æ–∑—ã –∞–∫—Ç–∏–≤–Ω—ã–µ 60s/5m, –ª–∏—á–Ω—ã–µ 5m/15m, —Ä–µ–π—Ç–∏–Ω–≥–∏ 2m/10m

## –≠—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ—Å—Ç—å —Ä–µ—Å—É—Ä—Å–æ–≤ –∏ —Å—Ç—Ä–∞—Ç–µ–≥–∏—è –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏—è
- ‚úÖ –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ Redis (–æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–æ –ø–æ–¥ Render.com Free: 25MB, 50 –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–π) ‚Äî 2025-11-05
  - ‚úÖ –•—Ä–∞–Ω–∏—Ç—å —Ç–æ–ª—å–∫–æ –∫—Ä–∏—Ç–∏—á–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ: ETag –≤–µ—Ä—Å–∏–∏, –ø—Ä–µ–¥–≤—ã—á–∏—Å–ª–µ–Ω–Ω—ã–µ –∞–≥—Ä–µ–≥–∞—Ç—ã —Ç–∞–±–ª–∏—Ü –ª–∏–¥–µ—Ä–æ–≤
  - ‚úÖ TTL –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω—ã –ø–æ–¥ —Ä–µ–¥–∫–∏–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è: predictions:active 60s, ratings 2m, user data 5m
  - ‚úÖ –ú–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –ª–æ–∫–∞–ª—å–Ω–æ–≥–æ –∫—ç—à–∞ –Ω–∞ –∫–ª–∏–µ–Ω—Ç–µ (localStorage) –¥–ª—è —Å–Ω–∏–∂–µ–Ω–∏—è –Ω–∞–≥—Ä—É–∑–∫–∏ –Ω–∞ Redis
  - ‚úÖ SWR —Å—Ç—Ä–∞—Ç–µ–≥–∏—è: –ø–æ–∫–∞–∑—ã–≤–∞—Ç—å —É—Å—Ç–∞—Ä–µ–≤—à–∏–µ –¥–∞–Ω–Ω—ã–µ –∏–∑ –∫—ç—à–∞, –æ–±–Ω–æ–≤–ª—è—Ç—å –≤ —Ñ–æ–Ω–µ ‚Äî –º–∏–Ω–∏–º—É–º –∑–∞–ø—Ä–æ—Å–æ–≤ –∫ Redis
  - ‚úÖ –ê–¥–∞–ø—Ç–∏–≤–Ω—ã–π polling —Å–Ω–∏–∂–∞–µ—Ç —á–∞—Å—Ç–æ—Ç—É –∑–∞–ø—Ä–æ—Å–æ–≤: –∞–∫—Ç–∏–≤–Ω–∞—è –≤–∫–ª–∞–¥–∫–∞ 60s, –Ω–µ–∞–∫—Ç–∏–≤–Ω–∞—è 5m, —Ñ–æ–Ω 10m
  - ‚úÖ –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å Redis streams –∏–ª–∏ pub/sub –¢–û–õ–¨–ö–û –¥–ª—è –∞–¥–º–∏–Ω-–ø–∞–Ω–µ–ª–∏, –∫–ª–∏–µ–Ω—Ç—ã –∏—Å–ø–æ–ª—å–∑—É—é—Ç HTTP Polling + ETag
  - –ü–ª–∞–Ω: –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –ø–∞–º—è—Ç–∏ Redis, –ø—Ä–∏ –ø—Ä–µ–≤—ã—à–µ–Ω–∏–∏ 20MB ‚Äî —É–≤–µ–ª–∏—á–∏—Ç—å TTL –∏–ª–∏ –∞–≥—Ä–µ—Å—Å–∏–≤–Ω–µ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∫–ª–∏–µ–Ω—Ç—Å–∫–∏–π –∫—ç—à
- –ù–∞–≥—Ä—É–∑–∫–∞ –Ω–∞ –ë–î
  - –ë–∞—Ç—á–∏—Ç—å –∑–∞–ø–∏—Å–∏ –æ—Ç scoring-–¥–≤–∏–∂–∫–∞, –∏—Å–ø–æ–ª—å–∑—É—è —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏ Prisma –Ω–∞ –º–∞—Ç—á; —É–±–µ–¥–∏—Ç—å—Å—è, —á—Ç–æ –∏–Ω–¥–µ–∫—Å—ã —Å–Ω–∏–∂–∞—é—Ç –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –ø–æ–∏—Å–∫–æ–≤
  - –î–ª—è –ø–µ—Ä–µ—Ä–∞—Å—á—ë—Ç–∞ —Å–µ—Ä–∏–π –ø–æ–ª—É—á–∞—Ç—å —Ç–æ–ª—å–∫–æ –∑–∞—Ç—Ä–æ–Ω—É—Ç—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π (–∑–∞–¥–∞—á–∞ —Ä–∞–∑—Ä–µ—à–µ–Ω–∏—è –∑–Ω–∞–µ—Ç –ø–æ–±–µ–¥–∏—Ç–µ–ª–µ–π/–ø—Ä–æ–∏–≥—Ä–∞–≤—à–∏—Ö)
  - ‚úÖ –û—Å–Ω–æ–≤–Ω—ã–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö –ø—Ä–æ–∏—Å—Ö–æ–¥—è—Ç –ø—Ä–∏ —Ñ–∏–Ω–∞–ª–∏–∑–∞—Ü–∏–∏ –º–∞—Ç—á–∞ ‚Äî –≤ –æ—Å—Ç–∞–ª—å–Ω–æ–µ –≤—Ä–µ–º—è –¥–∞–Ω–Ω—ã–µ –ø–æ—á—Ç–∏ —Å—Ç–∞—Ç–∏—á–Ω—ã
- ‚úÖ HTTP-–∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ (2025-11-05)
  - ‚úÖ –ì–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å ETag –Ω–∞ –æ—Å–Ω–æ–≤–µ –≤–µ—Ä—Å–∏–∏ –¥–∞–Ω–Ω—ã—Ö –≤ Redis –¥–ª—è —ç–Ω–¥–ø–æ–π–Ω—Ç–æ–≤ –ø—Ä–æ–≥–Ω–æ–∑–æ–≤ –∏ —Ä–µ–π—Ç–∏–Ω–≥–æ–≤
  - ‚úÖ –í–æ–∑–≤—Ä–∞—â–∞—Ç—å `304 Not Modified` –ø—Ä–∏ —Å–æ–≤–ø–∞–¥–µ–Ω–∏–∏ `If-None-Match`, –≤ —Å–æ—á–µ—Ç–∞–Ω–∏–∏ —Å `Cache-Control: public, max-age=60`
  - ‚úÖ –£–≤–µ–ª–∏—á–µ–Ω—ã TTL –ø–æ–¥ free tier: –ø—Ä–æ–≥–Ω–æ–∑—ã –∞–∫—Ç–∏–≤–Ω—ã–µ 60s‚Üí5m stale, —Ä–µ–π—Ç–∏–Ω–≥–∏ 2m‚Üí10m stale, –ª–∏—á–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ 5m‚Üí15m stale
- –≠—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ—Å—Ç—å WebSocket
  - –ê–¥–º–∏–Ω-WS —É–∂–µ –∞–∫—Ç–∏–≤–µ–Ω; –≤–≤–µ—Å—Ç–∏ —Ç–æ–ø–∏–∫-–æ—Ä–∏–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –ø–∞—Ç—á–∏ —Å –∫–æ–º–ø–∞–∫—Ç–Ω—ã–º–∏ –Ω–∞–≥—Ä—É–∑–∫–∞–º–∏ (—Ç–æ–ª—å–∫–æ ID), —á—Ç–æ–±—ã –∫–ª–∏–µ–Ω—Ç—ã –ø–µ—Ä–µ–∑–∞–ø—Ä–∞—à–∏–≤–∞–ª–∏ –¥–∞–Ω–Ω—ã–µ ‚Äî —ç—Ç–æ —Å–Ω–∏–∑–∏—Ç –Ω–∞–≥—Ä—É–∑–∫—É
  - ‚ö†Ô∏è –î–ª—è –ø—É–±–ª–∏—á–Ω—ã—Ö –∫–ª–∏–µ–Ω—Ç–æ–≤ –ù–ï –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å WebSocket –∏–∑-–∑–∞ –ª–∏–º–∏—Ç–∞ 50 –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–π ‚Äî —Ç–æ–ª—å–∫–æ HTTP Polling + ETag

## –û–ø–µ—Ä–∞—Ü–∏–æ–Ω–Ω—ã–µ —Å–æ–æ–±—Ä–∞–∂–µ–Ω–∏—è
  - –ü—Ä–µ–¥–æ—Å—Ç–∞–≤–∏—Ç—å UI `AdminActionLog` –¥–ª—è –æ—Ç–∫–∞—Ç–∞ –∫–æ—Ä—Ä–µ–∫—Ç–∏—Ä–æ–≤–æ–∫ –≤ —Ç–µ—á–µ–Ω–∏–µ 24 —á–∞—Å–æ–≤ –ø—É—Ç–µ–º –ø—Ä–æ–∏–≥—Ä—ã–≤–∞–Ω–∏—è –æ–±—Ä–∞—Ç–Ω—ã—Ö –æ–ø–µ—Ä–∞—Ü–∏–π
- –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
  - –û–±–Ω–æ–≤–∏—Ç—å `docs/cache.md`, –ø–æ–¥—Ä–æ–±–Ω–æ –æ–ø–∏—Å–∞–≤ –Ω–æ–≤—ã–µ TTL –∏ workflow –∏–Ω–≤–∞–ª–∏–¥–∞—Ü–∏–∏
  - –î–æ–±–∞–≤–∏—Ç—å runbook –¥–ª—è –æ—Ç–ª–∞–¥–∫–∏ –ø—Ä–æ–≥–Ω–æ–∑–æ–≤ (–∑–∞–≤–∏—Å—à–∏–µ –º–∞—Ç—á–∏, –æ—à–∏–±–æ—á–Ω–æ –≤—ã—á–∏—Å–ª–µ–Ω–Ω—ã–µ —Ç–æ—Ç–∞–ª—ã)

## –ü—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—è –ø–æ —É–ª—É—á—à–µ–Ω–∏—é
- –†–∞—Å—Å–º–æ—Ç—Ä–µ—Ç—å –ø—Ä–µ–¥–≤—ã—á–∏—Å–ª–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö —Ñ–æ—Ä–º –¥–ª—è –º–∏–Ω–∏-–∏–≥—Ä (–Ω–∞–ø—Ä–∏–º–µ—Ä, –º–∏—Å—Å–∏–∏-—Å—Ç—Ä–∏–∫) –∏ –¥–æ—Å—Ç–∞–≤–∫—É —á–µ—Ä–µ–∑ CDN JSON, —á—Ç–æ–±—ã —Å–Ω–∏–∑–∏—Ç—å –Ω–∞–≥—Ä—É–∑–∫—É –≤ –¥–Ω–∏ –º–∞—Ç—á–µ–π
- –†–∞—Å—à–∏—Ä–∏—Ç—å shared types, —á—Ç–æ–±—ã –ø–æ–∫—Ä—ã—Ç—å –Ω–æ–≤—ã–µ DTO –∏ –æ–±–µ—Å–ø–µ—á–∏—Ç—å –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å –Ω–∞ —ç—Ç–∞–ø–µ –∫–æ–º–ø–∏–ª—è—Ü–∏–∏ –º–µ–∂–¥—É –∞–¥–º–∏–Ω–æ–º –∏ —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥–æ–º
- –ü–µ—Ä–µ—Å–º–æ—Ç—Ä–µ—Ç—å –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –ø—É–ª–∞ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–π Prisma –¥–ª—è –æ–±–µ—Å–ø–µ—á–µ–Ω–∏—è –∑–∞–ø–∞—Å–∞ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ –ø–æ–¥ –Ω–æ–≤—ã–µ write-heavy –ø–æ—Ç–æ–∫–∏ (–∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å pgbouncer –∏–ª–∏ –ø—É–ª–ª–∏–Ω–≥ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–π –≤ –ø—Ä–æ–¥–∞–∫—à–µ–Ω–µ)

## –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏ (–ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç)

### üî¥ –í—ã—Å–æ–∫–∏–π –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç
1. **–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å–≤–æ–¥–∫–∏ —Ä–µ–π—Ç–∏–Ω–≥–∞ –≤ Profile** ‚úÖ 2025-11-05
   - –î–æ–±–∞–≤–∏—Ç—å –≤ —Ö–µ–¥–µ—Ä –ø—Ä–æ—Ñ–∏–ª—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ —Ç–µ–∫—É—â–µ–≥–æ —É—Ä–æ–≤–Ω—è –∏ –æ—á–∫–æ–≤
   - CSS-–æ–±–æ–¥ –≤–æ–∫—Ä—É–≥ –∞–≤–∞—Ç–∞—Ä–∞ —Å –≥—Ä–∞–¥–∏–µ–Ω—Ç–æ–º –ø–æ —É—Ä–æ–≤–Ω—é (Bronze‚ÜíMythic)
   - –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –¥–∞–Ω–Ω—ã–µ –∏–∑ `GET /users/me/rating`
   
2. **–ú–æ–¥—É–ª—å –¥–æ—Å—Ç–∏–∂–µ–Ω–∏–π –≤ –ø—Ä–æ—Ñ–∏–ª–µ** ‚úÖ 2025-11-05
   - –†–∞–∑–¥–µ–ª –ø—Ä–æ—Ñ–∏–ª—è —Å —Ä–∞–∑–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω–Ω—ã–º–∏ —É—Ä–æ–≤–Ω—è–º–∏ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏–π
   - API: `GET /users/me/achievements`
   - –ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ 5m fresh / 15m stale
   - –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –ø—Ä–æ–≥—Ä–µ—Å—Å–∞, –∏–∫–æ–Ω–æ–∫, –æ–ø–∏—Å–∞–Ω–∏–π
   - –í–∫–ª–∞–¥–∫–∞ "–î–æ—Å—Ç–∏–∂–µ–Ω–∏—è" –≤ –º–æ–±–∏–ª—å–Ω–æ–º –ø—Ä–æ—Ñ–∏–ª–µ
   - –ö–∞—Ä—Ç–æ—á–∫–∏ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏–π —Å –ø—Ä–æ–≥—Ä–µ—Å—Å-–±–∞—Ä–∞–º–∏

3. **–í–∫–ª–∞–¥–∫–∞ Achievements –≤ –∞–¥–º–∏–Ω-–ø–∞–Ω–µ–ª–∏** ‚úÖ 2025-11-05
   - CRUD –¥–ª—è —Ç–∏–ø–æ–≤ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏–π
   - –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–æ—Ä–æ–≥–∞–º–∏ —É—Ä–æ–≤–Ω–µ–π (AchievementLevel)
   - –ó–∞–≥—Ä—É–∑–∫–∞ –∏–∫–æ–Ω–æ–∫ —á–µ—Ä–µ–∑ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–π upload API
   - –†—É—á–Ω–∞—è –∫–æ—Ä—Ä–µ–∫—Ç–∏—Ä–æ–≤–∫–∞ –ø—Ä–æ–≥—Ä–µ—Å—Å–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
   - WS-—Ç–æ–ø–∏–∫ `admin.achievements` –¥–ª—è live-–æ–±–Ω–æ–≤–ª–µ–Ω–∏–π

### üîµ –°—Ä–µ–¥–Ω–∏–π –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç
4. **–ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è Redis**
   - –î–æ–±–∞–≤–∏—Ç—å –º–µ—Ç—Ä–∏–∫–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –ø–∞–º—è—Ç–∏ Redis –≤ –∞–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å
   - Alert –ø—Ä–∏ –ø—Ä–µ–≤—ã—à–µ–Ω–∏–∏ 20MB (80% –æ—Ç –ª–∏–º–∏—Ç–∞)
   - –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —É–≤–µ–ª–∏—á–µ–Ω–∏–µ –∫–ª–∏–µ–Ω—Ç—Å–∫–æ–≥–æ TTL –ø—Ä–∏ –≤—ã—Å–æ–∫–æ–π –Ω–∞–≥—Ä—É–∑–∫–µ

### ‚ö™ –ù–∏–∑–∫–∏–π –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç
5. **–í—ã–Ω–µ—Å—Ç–∏ —Ä–∞—Å—á—ë—Ç –æ—á–∫–æ–≤ –≤ —Ñ–æ–Ω–æ–≤–æ–≥–æ –≤–æ—Ä–∫–µ—Ä–∞**
   - –ï—Å–ª–∏ –Ω–∞–≥—Ä—É–∑–∫–∞ –Ω–∞ —Ñ–∏–Ω–∞–ª–∏–∑–∞—Ü–∏—é –º–∞—Ç—á–µ–π —Å—Ç–∞–Ω–µ—Ç –ø—Ä–æ–±–ª–µ–º–æ–π
   - –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Å—É—â–µ—Å—Ç–≤—É—é—â—É—é BullMQ –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä—É
   - –ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–π —Ä–∞—Å—á—ë—Ç —Å —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è–º–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π


6. **–û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –ø—É–ª–∞ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–π Prisma**
   - –ù–∞—Å—Ç—Ä–æ–π–∫–∞ connection pool –¥–ª—è write-heavy –æ–ø–µ—Ä–∞—Ü–∏–π
   - –†–∞—Å—Å–º–æ—Ç—Ä–µ—Ç—å pgbouncer –¥–ª—è –ø—Ä–æ–¥–∞–∫—à–µ–Ω–∞
   - –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –º–µ–¥–ª–µ–Ω–Ω—ã—Ö –∑–∞–ø—Ä–æ—Å–æ–≤
