# audit/code-audit-20251121-shop

**–î–∞—Ç–∞:** 2025-11-21  
**–ó–∞–¥–∞—á–∞:** –í–Ω–µ–¥—Ä–∏—Ç—å –ø–æ–ª–Ω–æ—Ü–µ–Ω–Ω—ã–π –º–æ–¥—É–ª—å ¬´–ú–∞–≥–∞–∑–∏–Ω¬ª (backend + admin + –ø—É–±–ª–∏—á–Ω—ã–π —Ñ—Ä–æ–Ω—Ç) —Å –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ–º, ETag –∏ –ª–æ–∫–∞–ª—å–Ω—ã–º —Ö—Ä–∞–Ω–µ–Ω–∏–µ–º –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π.  
**–ò—Å–ø–æ–ª–Ω–∏—Ç–µ–ª—å:** VSCode Agent v1.1

## 1. –ü–æ–∏—Å–∫–æ–≤—ã–µ –∑–∞–ø—Ä–æ—Å—ã
- "ShopItem" (schema.prisma)
- "shop" (–ø–æ–∏—Å–∫ –ø–æ backend/src –∏ frontend/src)
- "newsRoutes" / "ads" (–ø–∞—Ç—Ç–µ—Ä–Ω –∫—ç—à–∏—Ä—É–µ–º—ã—Ö –ø—É–±–ª–∏—á–Ω—ã—Ö —ç–Ω–¥–ø–æ–∏–Ω—Ç–æ–≤)
- "admin/src/store" (—Å—Ç—Ä—É–∫—Ç—É—Ä–∞ —ç–∫—à–µ–Ω–æ–≤ –∏ TTL)
- "appStore" (–ø—É–±–ª–∏—á–Ω—ã–π Zustand —Å—Ç–æ—Ä)

## 2. –ü—Ä–æ—Å–∫–∞–Ω–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –ø—É—Ç–∏
- docs/project.md, docs/roadmap.md, docs/state.md, docs/style.md, docs/cache.md, docs/BD.md, docs/TTL.md
- prisma/schema.prisma, prisma/migrations/
- backend/src/server.ts, backend/src/routes/*, backend/src/cache/*, backend/src/utils/httpCaching.ts
- admin/src/store/adminStore.ts, admin/src/api/adminClient.ts, admin/src/components/DashboardLayout.tsx –∏ –≤—Å–µ tabs/
- frontend/src/App.tsx, frontend/src/store/appStore.ts, frontend/src/api/*, frontend/src/components –∏ pages

## 3. –ù–∞–π–¥–µ–Ω–Ω—ã–µ –∞—Ä—Ç–µ—Ñ–∞–∫—Ç—ã
- `docs/state.md` ‚Äî –æ–ø–∏—Å–∞–Ω–∏–µ —Å—Ç–æ—Ä-—Ñ–∞—Å–∞–¥–∞ –∏ TTL, –ø—Ä–∏–¥–µ—Ä–∂–∏–≤–∞–µ–º—Å—è —Ç–µ—Ö –∂–µ –ø—Ä–∞–≤–∏–ª –¥–ª—è –Ω–æ–≤–æ–π –≤–∫–ª–∞–¥–∫–∏ ¬´–ú–∞–≥–∞–∑–∏–Ω¬ª.
- `docs/cache.md` / `docs/TTL.md` ‚Äî –ø–æ–ª–∏—Ç–∏–∫–∏ –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏—è –∏ ETag-–ø–æ—Ç–æ–∫–∏, —Ç—Ä–µ–±—É–µ—Ç—Å—è —Ä–∞—Å—à–∏—Ä–∏—Ç—å –ø–æ–¥ shop-items.
- `admin/src/store/adminStore.ts` ‚Äî —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è TTL-–∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏—è –∏ —ç–∫—à–µ–Ω–æ–≤; –Ω–æ–≤—É—é –≤–∫–ª–∞–¥–∫—É –≤—Å—Ç—Ä–∞–∏–≤–∞–µ–º —Å—é–¥–∞.
- `admin/src/components/tabs/NewsTab.tsx` –∏ `PredictionsTab.tsx` ‚Äî –ø—Ä–∏–º–µ—Ä—ã —Ñ–æ—Ä–º –∏ —Å–ø–∏—Å–∫–æ–≤, –∏—Å–ø–æ–ª—å–∑—É–µ–º –ø–æ–¥—Ö–æ–¥ –¥–ª—è CRUD —Ç–æ–≤–∞—Ä–æ–≤ –∏ –∑–∞–∫–∞–∑–æ–≤.
- `frontend/src/store/appStore.ts` / `frontend/src/App.tsx` ‚Äî –Ω–∞–≤–∏–≥–∞—Ü–∏—è –∏ —Å–æ—Å—Ç–æ—è–Ω–∏–µ –ø—É–±–ª–∏—á–Ω–æ–≥–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è; –≤–∫–ª–∞–¥–∫–∞ `shop` –ø–æ–∫–∞ placeholder.
- `backend/src/routes/newsRoutes.ts` / `adsRoutes.ts` ‚Äî –æ–±—Ä–∞–∑–µ—Ü –ø—É–±–ª–∏—á–Ω—ã—Ö —ç–Ω–¥–ø–æ–∏–Ω—Ç–æ–≤ —Å defaultCache –∏ ETag, –ø–æ–≤—Ç–æ—Ä—è–µ–º –¥–ª—è `/api/shop/items`.

## 4. –†–µ—à–µ–Ω–∏–µ
–ì–æ—Ç–æ–≤—ã—Ö –º–æ–¥—É–ª–µ–π –º–∞–≥–∞–∑–∏–Ω–∞ –Ω–µ—Ç, –ø–æ—ç—Ç–æ–º—É —Ä–µ–∞–ª–∏–∑—É–µ–º –ø–æ–ª–Ω–æ—Ü–µ–Ω–Ω—ã–π —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª —Å –Ω—É–ª—è, —Å–æ—Ö—Ä–∞–Ω—è—è —Å—Ç–∞–Ω–¥–∞—Ä—Ç—ã —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è:
- Prisma –º–æ–¥–µ–ª–∏ ShopItem/ShopOrder/ShopOrderItem —É–∂–µ –¥–æ–±–∞–≤–ª–µ–Ω—ã; –≥–µ–Ω–µ—Ä–∏—Ä—É–µ–º –º–∏–≥—Ä–∞—Ü–∏—é –∏ –∏–Ω—Ç–µ–≥—Ä–∏—Ä—É–µ–º —Å–µ—Ä–≤–∏—Å—ã.
- Backend: –æ—Ç–¥–µ–ª—å–Ω—ã–µ —Å–µ—Ä–≤–∏—Å—ã –∑–∞–≥—Ä—É–∑–∫–∏ –∫–∞—Ç–∞–ª–æ–≥–∞, —Å–æ–∑–¥–∞–Ω–∏–µ –∑–∞–∫–∞–∑–æ–≤ –∏ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–∏–≤–Ω—ã–π CRUD, –≤—Å–µ —Å defaultCache + ETag –∏ –∏–Ω–≤–∞–ª–∏–¥–∞—Ü–∏–µ–π.
- Admin: –Ω–æ–≤–∞—è –≤–∫–ª–∞–¥–∫–∞ ¬´–ú–∞–≥–∞–∑–∏–Ω¬ª —Å —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ–º —Ç–æ–≤–∞—Ä–∞–º–∏ (—Å–æ–∑–¥–∞–Ω–∏–µ/—Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ/–∞—Ä—Ö–∏–≤/—É–¥–∞–ª–µ–Ω–∏–µ) –∏ –∂—É—Ä–Ω–∞–ª–æ–º –∑–∞–∫–∞–∑–æ–≤ (–ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ, –∑–∞–º–µ—Ç–∫–∏, —Ñ–∏–ª—å—Ç—Ä—ã).
- –ü—É–±–ª–∏—á–Ω—ã–π —Ñ—Ä–æ–Ω—Ç: –≤–∫–ª–∞–¥–∫–∞ ¬´–ú–∞–≥–∞–∑–∏–Ω¬ª —Å –∫–∞—Ä—Ç–æ—á–∫–∞–º–∏ —Ç–æ–≤–∞—Ä–∞ –≤ —Å—Ç–∏–ª–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è, –∫–æ—Ä–∑–∏–Ω–æ–π (–º–æ–¥–∞–ª–∫–∞) –∏ –≤–∫–ª–∞–¥–∫–æ–π –∏—Å—Ç–æ—Ä–∏–∏ –∑–∞–∫–∞–∑–æ–≤. –õ–æ–∫–∞–ª—å–Ω–æ –∫—ç—à–∏—Ä—É–µ–º –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è –Ω–∞ 14 –¥–Ω–µ–π.
- –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –æ–±–Ω–æ–≤–ª—è–µ—Ç—Å—è –ø–æ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è–º –ö–æ–Ω—Å—Ç–∏—Ç—É—Ü–∏–∏ (BD, state, cache, TTL, roadmap, audit).

## 5. –ü–ª–∞–Ω —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏
- [ ] –°–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å Prisma client –∏ –ø–æ–¥–≥–æ—Ç–æ–≤–∏—Ç—å –º–∏–≥—Ä–∞—Ü–∏—é `0001_shop_catalog`.
- [ ] Backend: —Å–µ—Ä–≤–∏—Å—ã + –ø—É–±–ª–∏—á–Ω—ã–µ –∏ –∞–¥–º–∏–Ω—Å–∫–∏–µ REST —ç–Ω–¥–ø–æ–∏–Ω—Ç—ã, –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ, in-flight –≤–∞–ª–∏–¥–∞—Ü–∏–∏.
- [ ] Admin: —Ö—Ä–∞–Ω–∏–ª–∏—â–µ, API-–∫–ª–∏–µ–Ω—Ç –∏ –≤–∫–ª–∞–¥–∫–∞ ¬´–ú–∞–≥–∞–∑–∏–Ω¬ª (—Ç–æ–≤–∞—Ä—ã + –∑–∞–∫–∞–∑—ã + –ø—Ä–µ–≤—å—é –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π).
- [ ] Frontend: Zustand-—Å–æ—Å—Ç–æ—è–Ω–∏–µ –º–∞–≥–∞–∑–∏–Ω–∞, API-–æ–±—ë—Ä—Ç–∫–∏, –∫–∞—Ä—Ç–æ—á–∫–∏, –∫–æ—Ä–∑–∏–Ω–∞-–º–æ–¥–∞–ª–∫–∞, –∏—Å—Ç–æ—Ä–∏—è –∑–∞–∫–∞–∑–æ–≤, –ª–æ–∫–∞–ª—å–Ω—ã–π –∫—ç—à –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π.
- [ ] –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –∏ –∑–∞–ø–∏—Å–∏ –≤ `audit/changes` –æ–±–Ω–æ–≤–ª–µ–Ω—ã.
- [ ] –ü—Ä–æ–≥–Ω–∞—Ç—å lint/build –≤–æ –≤—Å–µ—Ö –ø–∞–∫–µ—Ç–∞—Ö.

## 6. –ú–µ—Ç—Ä–∏—á–µ—Å–∫–æ–µ –≤–ª–∏—è–Ω–∏–µ
üîµ ‚Äî –ø–æ–≤—ã—Å–∏–º –≤–æ–≤–ª–µ—á—ë–Ω–Ω–æ—Å—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –∏ –Ω–∞–≥—Ä—É–∑–∫—É –Ω–∞ API –∏–∑-–∑–∞ –Ω–æ–≤—ã—Ö –∑–∞–ø—Ä–æ—Å–æ–≤, –Ω–æ —Å –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ–º/ETag –≤–ª–∏—è–Ω–∏–µ —É–º–µ—Ä–µ–Ω–Ω–æ–µ.
